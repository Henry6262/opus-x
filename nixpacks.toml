# Nixpacks configuration for WebSocket proxy server
# Prevent Next.js auto-detection and cache mount creation

[phases.setup]
nixPkgs = ["nodejs_18", "npm-8_x"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["true"]

[start]
cmd = "node --require tsx/cjs --import tsx/esm src/server/birdeye-proxy.ts"

# Explicitly disable Next.js provider
[providers]
next = false
